{"version":3,"sources":["webpack:///./src/components/processTask/MyTodoList.vue?cb49","webpack:///src/components/processTask/MyTodoList.vue","webpack:///./src/components/processTask/MyTodoList.vue?f500","webpack:///./src/components/processTask/MyTodoList.vue?3b57","webpack:///./src/components/processTask/MyTodoList.vue?98c7"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","path","_v","on","$event","handleCurrentChange","model","value","queryInfo","callback","$$v","$set","expression","slot","directives","name","rawName","staticStyle","datalist","scopedSlots","_u","key","fn","scope","downloadOriginalData","row","data_id","staticClass","_s","upload_time","ai_status","_e","downloadAIData","ai_finish_time","finish_time","file","uploadSegData","checkUploadZip","dialogVisible","pagenum","pagesize","total","handleSizeChange","uploadDialogVisible","interuptUpload","uploadDiag","progressPercent","text","staticRenderFns","data","loading","query","source","methods","newSize","getDataList","newPage","endsWith","$message","message","type","size","cancel","created","component"],"mappings":"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","file":"js/chunk-363cbde6.1656048607808.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"处理任务\")]),_c('el-breadcrumb-item',[_vm._v(\"我的任务\")])],1),_c('el-card',[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},on:{\"clear\":function($event){return _vm.handleCurrentChange(1);}},model:{value:(_vm.queryInfo.query),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"query\", $$v)},expression:\"queryInfo.query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":function($event){return _vm.handleCurrentChange(1);}},slot:\"append\"})],1)],1)],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.datalist,\"stripe\":\"\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"prop\":\"data_id\",\"label\":\"数据编号\",\"min-width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"data_name\",\"label\":\"数据名称\",\"min-width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"age\",\"label\":\"年龄\",\"min-width\":\"60\"}}),_c('el-table-column',{attrs:{\"prop\":\"data_dimen\",\"label\":\"数据维度\",\"min-width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"data_space\",\"label\":\"物理间距\",\"min-width\":\"200\"}}),_c('el-table-column',{attrs:{\"prop\":\"coordinate\",\"label\":\"起点坐标\",\"min-width\":\"280\"}}),_c('el-table-column',{attrs:{\"label\":\"下载数据\",\"min-width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.downloadOriginalData(scope.row.data_id)}}},[_c('i',{staticClass:\"el-icon-download\"})])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"upload_user\",\"label\":\"上传用户\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"label\":\"数据上传时间\",\"min-width\":\"130\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(_vm._s(scope.row.upload_time))]}}])}),_c('el-table-column',{attrs:{\"label\":\"AI建模\",\"min-width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.ai_status === '0')?_c('span',[_vm._v(\"未运行\")]):_vm._e(),(scope.row.ai_status === '1')?_c('span',[_vm._v(\"计算中\")]):_vm._e(),(scope.row.ai_status === '2')?_c('span',[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.downloadAIData(scope.row.data_id)}}},[_c('i',{staticClass:\"el-icon-download\"})])],1):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"label\":\"AI完成时间\",\"min-width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.ai_finish_time === null)?_c('span',[_vm._v(\"未完成\")]):_vm._e(),(scope.row.ai_finish_time !== null)?_c('span',[_vm._v(_vm._s(scope.row.ai_finish_time))]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"label\":\"上传\",\"min-width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.finish_time === null)?_c('span',[_c('el-upload',{staticClass:\"upload-demo\",staticStyle:{\"display\":\"inline\"},attrs:{\"action\":\"#\",\"http-request\":function(file) {return _vm.uploadSegData(file,scope.row.data_id);},\"show-file-list\":false,\"before-upload\":_vm.checkUploadZip}},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-upload2\"}})],1)],1):_vm._e(),(scope.row.finish_time !== null)?_c('span',[_vm._v(\"已完成\")]):_vm._e()]}}])},[_c('template',{slot:\"header\"},[_c('span',{staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.dialogVisible=true}}},[_vm._v(\" 上传 \"),_c('i',{staticClass:\"el-icon-question\",staticStyle:{\"font-size\":\"14px\"}})])])],2),_c('el-table-column',{attrs:{\"label\":\"结果上传时间\",\"min-width\":\"140\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.finish_time === null)?_c('span',[_vm._v(\"无\")]):_vm._e(),(scope.row.finish_time !== null)?_c('span',[_vm._v(_vm._s(scope.row.finish_time))]):_vm._e()]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.queryInfo.pagenum,\"page-sizes\":[5, 15, 20],\"page-size\":_vm.queryInfo.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total,\"background\":\"\"},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{staticClass:\"tipdialog\",attrs:{\"title\":\"提示\",\"visible\":_vm.dialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('p',[_vm._v(\"请上传一个zip压缩包，里面包含8个STL模型，文件命名规则如下：\")]),_c('p',[_vm._v(\"肺动脉： PA.stl\")]),_c('p',[_vm._v(\"左心房肺静脉：LA.stl\")]),_c('p',[_vm._v(\"上腔静脉：SVC.stl\")]),_c('p',[_vm._v(\"主动脉：AO.stl\")]),_c('p',[_vm._v(\"右心房：RA.stl\")]),_c('p',[_vm._v(\"右心室：RV.stl\")]),_c('p',[_vm._v(\"左心室：LV.stl\")]),_c('p',[_vm._v(\"心包：EE.stl\")]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"确 定\")])],1)]),_c('el-dialog',{attrs:{\"title\":\"上传\",\"visible\":_vm.uploadDialogVisible,\"width\":\"25%\"},on:{\"update:visible\":function($event){_vm.uploadDialogVisible=$event},\"close\":_vm.interuptUpload}},[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('el-progress',{staticStyle:{\"margin-left\":\"20px\"},attrs:{\"type\":\"circle\",\"percentage\":_vm.uploadDiag.progressPercent}}),_c('h5',[_vm._v(_vm._s(_vm.uploadDiag.text))])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item>处理任务</el-breadcrumb-item>\n      <el-breadcrumb-item>我的任务</el-breadcrumb-item>\n    </el-breadcrumb>\n\n    <el-card>\n      <el-row :gutter=\"20\">\n        <el-col :span=\"8\">\n          <el-input\n            placeholder=\"请输入内容\"\n            clearable\n            v-model=\"queryInfo.query\"\n            @clear=\"handleCurrentChange(1);\"\n          >\n            <el-button\n              slot=\"append\"\n              icon=\"el-icon-search\"\n              @click=\"\n                handleCurrentChange(1);\n              \"\n            ></el-button>\n          </el-input>\n        </el-col>\n        <!-- <el-col :span=\"4\" :offset=\"12\">\n          <el-button\n            type=\"primary\"\n            plain\n            style=\"position:absolute;right:10px;\"\n            @click=\"gotoTodoList\"\n          >待领取任务列表</el-button>\n        </el-col>-->\n      </el-row>\n\n      <el-table :data=\"datalist\" stripe border style=\"width: 100%\" v-loading=\"loading\">\n        <el-table-column type=\"index\"></el-table-column>\n        <el-table-column prop=\"data_id\" label=\"数据编号\" min-width=\"100\"></el-table-column>\n        <el-table-column prop=\"data_name\" label=\"数据名称\" min-width=\"100\"></el-table-column>\n        <el-table-column prop=\"age\" label=\"年龄\" min-width=\"60\"></el-table-column>\n        <el-table-column prop=\"data_dimen\" label=\"数据维度\" min-width=\"100\"></el-table-column>\n        <el-table-column prop=\"data_space\" label=\"物理间距\" min-width=\"200\"></el-table-column>\n        <el-table-column prop=\"coordinate\" label=\"起点坐标\" min-width=\"280\"></el-table-column>\n        <el-table-column label=\"下载数据\" min-width=\"80\">\n          <template v-slot=\"scope\">\n            <el-button size=\"mini\" type=\"primary\" @click=\"downloadOriginalData(scope.row.data_id)\">\n              <i class=\"el-icon-download\"></i>\n            </el-button>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"upload_user\" label=\"上传用户\" width=\"100\"></el-table-column>\n        <el-table-column label=\"数据上传时间\" min-width=\"130\">\n          <template v-slot=\"scope\">{{ scope.row.upload_time }}</template>\n        </el-table-column>\n        <el-table-column label=\"AI建模\" min-width=\"80\">\n          <template v-slot=\"scope\">\n            <span v-if=\"scope.row.ai_status === '0'\">未运行</span>\n            <span v-if=\"scope.row.ai_status === '1'\">计算中</span>\n            <span v-if=\"scope.row.ai_status === '2'\">\n              <el-button size=\"mini\" type=\"primary\" @click=\"downloadAIData(scope.row.data_id)\">\n                <i class=\"el-icon-download\"></i>\n              </el-button>\n            </span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"AI完成时间\" min-width=\"140\">\n          <template v-slot=\"scope\">\n            <span v-if=\"scope.row.ai_finish_time === null\">未完成</span>\n            <span v-if=\"scope.row.ai_finish_time !== null\">{{ scope.row.ai_finish_time }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"上传\" min-width=\"80\">\n          <template slot=\"header\">\n            <span style=\"cursor:pointer;\" @click=\"dialogVisible=true\">\n              上传\n              <i class=\"el-icon-question\" style=\"font-size:14px;\"></i>\n            </span>\n          </template>\n          <template v-slot=\"scope\">\n            <span v-if=\"scope.row.finish_time === null\">\n              <el-upload\n                class=\"upload-demo\"\n                action=\"#\"\n                :http-request=\"function(file) {return uploadSegData(file,scope.row.data_id);}\"\n                :show-file-list=\"false\"\n                :before-upload=\"checkUploadZip\"\n                style=\"display:inline;\"\n              >\n                <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-upload2\"></el-button>\n              </el-upload>\n            </span>\n            <span v-if=\"scope.row.finish_time !== null\">已完成</span>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"结果上传时间\" min-width=\"140\">\n          <template v-slot=\"scope\">\n            <span v-if=\"scope.row.finish_time === null\">无</span>\n            <span v-if=\"scope.row.finish_time !== null\">{{ scope.row.finish_time }}</span>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"queryInfo.pagenum\"\n        :page-sizes=\"[5, 15, 20]\"\n        :page-size=\"queryInfo.pagesize\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\"\n        background\n      ></el-pagination>\n    </el-card>\n    <el-dialog title=\"提示\" :visible.sync=\"dialogVisible\" width=\"30%\" class=\"tipdialog\">\n      <p>请上传一个zip压缩包，里面包含8个STL模型，文件命名规则如下：</p>\n      <p>肺动脉： PA.stl</p>\n      <p>左心房肺静脉：LA.stl</p>\n      <p>上腔静脉：SVC.stl</p>\n      <p>主动脉：AO.stl</p>\n      <p>右心房：RA.stl</p>\n      <p>右心室：RV.stl</p>\n      <p>左心室：LV.stl</p>\n      <p>心包：EE.stl</p>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"dialogVisible = false\">确 定</el-button>\n      </span>\n    </el-dialog>\n    <el-dialog title=\"上传\" :visible.sync=\"uploadDialogVisible\" width=\"25%\" @close=\"interuptUpload\">\n      <div style=\"text-align:center;\">\n        <el-progress\n          type=\"circle\"\n          :percentage=\"uploadDiag.progressPercent\"\n          style=\"margin-left:20px;\"\n        ></el-progress>\n        <h5>{{uploadDiag.text}}</h5>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      loading: false,\n      dialogVisible: false,\n      uploadDialogVisible: false,\n      queryInfo: {\n        query: \"\",\n        pagenum: 1,\n        pagesize: 5,\n      },\n      datalist: [],\n      total: 0,\n      uploadDiag: {\n        progressPercent: 0,\n        text: \"正在上传\",\n      },\n      source: null,\n    };\n  },\n  methods: {\n    async getDataList() {\n      this.loading = true;\n      const { data } = await this.$http.post(\"data/mytodolist\", {\n        queryinfo: this.queryInfo,\n      });\n      if (data.status === 100) {\n        this.datalist = data.data.list;\n        this.total = data.data.total;\n        this.loading = false;\n      }\n    },\n    handleSizeChange(newSize) {\n      this.queryInfo.pagesize = newSize;\n      this.queryInfo.pagenum = 1;\n      this.getDataList();\n    },\n    handleCurrentChange(newPage) {\n      this.queryInfo.pagenum = newPage;\n      this.getDataList();\n    },\n    async downloadOriginalData(data_id) {\n      let baseurl = this.$http.defaults.baseURL;\n      window.location = baseurl + \"/data/dicomzip/\" + data_id;\n    },\n    async downloadAIData(data_id) {\n      this.$message({ message: \"正在生成压缩包\", type: \"success\" });\n      let baseurl = this.$http.defaults.baseURL;\n      window.location = baseurl + \"/data/aistl/\" + data_id + \"/11111111\";\n    },\n    checkUploadZip(file) {\n      if (file.name.endsWith(\".zip\") === false) {\n        this.$message({\n          message: \"请上传zip格式压缩包\",\n          type: \"error\",\n        });\n        return false;\n      }\n      if (file.size > 100 * 1024 * 1024) {\n        this.$message({\n          message: \"文件大小不超过100m\",\n          type: \"error\",\n        });\n        return false;\n      }\n    },\n    async uploadSegData(file, id) {\n      let formdata = new FormData();\n      formdata.append(\"zipfile\", file.file);\n      formdata.append(\"dataid\", id);\n      this.$message({\n        type: \"warning\",\n        message: \"数据正在上传\",\n      });\n      this.source = this.$http.CancelToken.source();\n      const config = {\n        \"Content-Type\": \"multipart/form-data\",\n        cancelToken: this.source.token,\n        onUploadProgress: (progressEvent) => {\n          this.uploadDiag.progressPercent = Number(\n            ((progressEvent.loaded / progressEvent.total) * 100).toFixed(2)\n          );\n          if (this.uploadDiag.progressPercent === 100)\n            this.uploadDiag.text = \"正在解析\";\n        },\n      };\n      this.uploadDialogVisible = true;\n      this.uploadDiag.progressPercent = 0;\n      this.uploadDiag.text = \"正在上传\";\n      const { data } = await this.$http.post(\n        \"data/uploadstl\",\n        formdata,\n        config\n      );\n      this.uploadDialogVisible = false;\n      if (data.status === 100) {\n        this.$message({\n          type: \"success\",\n          message: data.data,\n        });\n        this.getDataList();\n      }\n    },\n    interuptUpload() {\n      if (this.uploadDiag.progressPercent < 100) {\n        this.source.cancel();\n      }\n    },\n  },\n  created() {\n    this.getDataList();\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.el-cascader {\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyTodoList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyTodoList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyTodoList.vue?vue&type=template&id=dee96f0a&scoped=true&\"\nimport script from \"./MyTodoList.vue?vue&type=script&lang=js&\"\nexport * from \"./MyTodoList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MyTodoList.vue?vue&type=style&index=0&id=dee96f0a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dee96f0a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyTodoList.vue?vue&type=style&index=0&id=dee96f0a&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyTodoList.vue?vue&type=style&index=0&id=dee96f0a&lang=less&scoped=true&\""],"sourceRoot":""}